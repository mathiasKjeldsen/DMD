<ion-header>
  <ion-navbar mode="wp">
  </ion-navbar>
</ion-header>

<ion-content padding class="handifyBg">
  <ion-grid text-center>
    <ion-row class="rowSpace25">&nbsp;</ion-row>

    <ion-row>
      <ion-col col-6>
      </ion-col>
      <ion-col col-12 style="color: white"><strong>Profile information</strong>
      </ion-col>
      <ion-col col-6>
      </ion-col>
    </ion-row>

    <ion-row class="rowSpace33">&nbsp;</ion-row>

    <ion-list no-lines mode="ios">
      <form [formGroup]="profileInfoForm" (submit)="updateProfile()">

        <form [formGroup]="dateForm">



          <ion-row>
            <ion-col col-2></ion-col>
            <ion-col col-20>
              <ion-item mode="ios" class="signUpTransparent">
                <button ion-button item-left class="backButton" mode="ios"><ion-icon name="md-calendar" class="signUpColorLock"></ion-icon>
              <h6 *ngIf="!dateForm.controls.datepicker.touched" class="additionalInfoDateText2">{{userProfile?.birthDate}}</h6>
              <h6 *ngIf="!dateForm.controls.datepicker.touched && userProfile?.birthDate == empty" class="additionalInfoDateText2">Date of birth</h6>
              </button>
                <ion-datetime color="primary" displayFormat="DD.MM.YYYY" #datepicker mode="ios" class="additionalInfoDateTime" [(ngModel)]="dateForm.datepicker"
                  formControlName="datepicker"></ion-datetime>
              </ion-item>
              <!--
            <p *ngIf="!isValid('birthDate') && profileInfoForm.controls.birthDate.touched" class="signUpInValid">Invalid date of birth</p>-->
            </ion-col>
            <ion-col col-2></ion-col>
          </ion-row>
        </form>
        <ion-row>&nbsp;</ion-row>

        <ion-row>
          <ion-col col-2></ion-col>
          <ion-col col-20>
            <ion-item mode="ios" class="signUpTransparent">
              <button ion-button item-left class="backButton" mode="ios"><ion-icon name="md-person" class="signUpColorLock"></ion-icon></button>
              <ion-input mode="ios" placeholder="Full name" value="{{userProfile?.fullName}}" class="signUpPlaceholder" [(ngModel)]="profileInfoForm.fullName"
                formControlName="fullName" #name></ion-input>
            </ion-item>
            <p *ngIf="!isValid('fullName') && profileInfoForm.controls.fullName.dirty" class="signUpInValid">Invalid name</p>
          </ion-col>
          <ion-col col-2></ion-col>
        </ion-row>

        <ion-row>
          <ion-col col-2></ion-col>
          <ion-col col-20>
            <ion-item mode="ios" class="signUpTransparent">
              <button ion-button item-left class="backButton" mode="ios"><ion-icon name="md-home" class="signUpColorLock"></ion-icon></button>
              <ion-input mode="ios" placeholder="Address" value="{{userProfile?.address}}" class="signUpPlaceholder" [(ngModel)]="profileInfoForm.address"
                formControlName="address" #address></ion-input>
            </ion-item>
            <p *ngIf="!isValid('address') && profileInfoForm.controls.address.touched" class="signUpInValid">Minimum 2 characters</p>
          </ion-col>
          <ion-col col-2></ion-col>
        </ion-row>

        <ion-row>
          <ion-col col-2></ion-col>
          <ion-col col-10>
            <ion-item mode="ios" class="signUpTransparent">
              <button ion-button item-left class="backButton" mode="ios"><ion-icon name="md-home" class="signUpColorLock"></ion-icon></button>
              <ion-input placeholder="Zip" mode="ios" value="{{userProfile?.zip}}" class="signUpPlaceholder" [(ngModel)]="profileInfoForm.zip"
                formControlName="zip" #zip></ion-input>
            </ion-item>
            <p *ngIf="!isValid('zip') && profileInfoForm.controls.zip.touched" class="signUpInValid">Invalid zip</p>
          </ion-col>

          <ion-col col-10>
            <ion-item mode="ios" class="signUpTransparent">
              <ion-input mode="ios" placeholder="City" value="{{userProfile?.city}}" class="signUpPlaceholder" [(ngModel)]="profileInfoForm.city"
                formControlName="city" #city></ion-input>
            </ion-item>
            <p *ngIf="!isValid('city') && profileInfoForm.controls.city.touched" class="signUpInValid">Invalid city</p>
          </ion-col>

          <ion-col col-2></ion-col>
        </ion-row>

        <ion-row>
          <ion-col col-2></ion-col>
          <ion-col col-20>
            <ion-item mode="ios" class="signUpTransparent">
              <button ion-button item-left class="backButton" mode="ios"><ion-icon name="md-home" class="signUpColorLock"></ion-icon></button>
              <ion-input mode="ios" placeholder="Country" value="{{userProfile?.country}}" class="signUpPlaceholder" [(ngModel)]="profileInfoForm.country"
                formControlName="country" #country></ion-input>
            </ion-item>
            <p *ngIf="!isValid('country') && profileInfoForm.controls.country.touched" class="signUpInValid">Invalid country</p>
          </ion-col>
          <ion-col col-2></ion-col>
        </ion-row>

        <ion-row class="rowSpace10">&nbsp;</ion-row>

        <ion-row>
          <ion-col col-6>
          </ion-col>
          <ion-col col-12>
            <button ion-button mode="wp" block color="secondary" type="submit">Update profile info</button>
          </ion-col>
          <ion-col col-6>
          </ion-col>
        </ion-row>
      </form>
    </ion-list>

    <form [formGroup]="profilePageForm" (submit)="updateSummary()">
      <ion-list no-lines mode="ios">
      <ion-row>
        <ion-col col-6>
        </ion-col>
        <ion-col col-12 style="color: white"><strong>Summary</strong>
        </ion-col>
        <ion-col col-6>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-1>
        </ion-col>
        <ion-col col-18>
          <ion-item mode="ios" class="profileSummary">
            <ion-textarea rows="5" mode="ios" type="text" placeholder="Short summary about {{userProfile?.fullName}}..." value="{{userProfile?.summary}}"
              class="calendarItem" [(ngModel)]="profilePageForm.summary" formControlName="summary" #text></ion-textarea>
          </ion-item>
        </ion-col>
        <ion-col col-5>
        </ion-col>
      </ion-row>
      <ion-row class="rowSpace10">&nbsp;</ion-row>

      <button [disabled]="!profilePageForm.valid" color="secondary" type="submit" mode="wp" ion-button>Update summary</button>
      </ion-list>
    </form>

  </ion-grid>
</ion-content>