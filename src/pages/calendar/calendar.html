<ion-header mode="wp">
  <ion-navbar mode="wp">
  </ion-navbar>
</ion-header>

<ion-content padding class="handifyBg">

  <ion-grid text-center>
    <ion-row class="month">
      <ion-col col-4 text-center (click)="monthMinus()">&#10094;</ion-col>

      <ion-col col-16 text-center *ngIf="month == 5">May 2017</ion-col>
      <ion-col col-16 text-center *ngIf="month == 6">June 2017</ion-col>
      <ion-col col-16 text-center *ngIf="month == 7">July 2017</ion-col>

      <ion-col col-4 text-center (click)="monthPlus()">&#10095;</ion-col>
    </ion-row>
    <ion-row class="weekdays">
      <ion-col col-2></ion-col>
      <ion-col col-3>Mon</ion-col>
      <ion-col col-3>Tue</ion-col>
      <ion-col col-3>Wed</ion-col>
      <ion-col col-3>Thu</ion-col>
      <ion-col col-3>Fri</ion-col>
      <ion-col col-3>Sat</ion-col>
      <ion-col col-3>Sun</ion-col>
      <ion-col col-1></ion-col>
    </ion-row>

    <div *ngIf="month == 5">
      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [1,2,3,4,5,6,7]">
        <div *ngIf="!strong[5*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[5*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[5*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[5*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [8,9,10,11,12,13,14]">
        <div *ngIf="!strong[5*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[5*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[5*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[5*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [15,16,17,18,19,20,21]">
        <div *ngIf="!strong[5*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[5*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[5*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[5*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [22,23,24,25,26,27,28]">
        <div *ngIf="!strong[5*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[5*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[5*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[5*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [29,30,31]">
        <div *ngIf="!strong[5*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[5*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[5*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[5*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-3 class="notThisMonth">1</ion-col>
        <ion-col col-3 class="notThisMonth">2</ion-col>
        <ion-col col-3 class="notThisMonth">3</ion-col>
        <ion-col col-3 class="notThisMonth">4</ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col></ion-col>
        <ion-col col-3 class="notThisMonth">5</ion-col>
        <ion-col col-3 class="notThisMonth">6</ion-col>
        <ion-col col-3 class="notThisMonth">7</ion-col>
        <ion-col col-3 class="notThisMonth">8</ion-col>
        <ion-col col-3 class="notThisMonth">9</ion-col>
        <ion-col col-3 class="notThisMonth">10</ion-col>
        <ion-col col-3 class="notThisMonth">11</ion-col>
        <ion-col col-1></ion-col>
      </ion-row>
    </div>

    <div *ngIf="month == 6">
      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 class="notThisMonth">29</ion-col>
        <ion-col col-3 class="notThisMonth">30</ion-col>
        <ion-col col-3 class="notThisMonth">31</ion-col>
        <ion-col col-3 *ngFor="let i of [1,2,3,4]">
        <div *ngIf="!strong[6*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[6*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[6*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[6*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [5,6,7,8,9,10,11]">
        <div *ngIf="!strong[6*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[6*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[6*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[6*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [12,13,14,15,16,17,18]">
        <div *ngIf="!strong[6*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[6*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[6*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[6*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [19,20,21,22,23,24,25]">
        <div *ngIf="!strong[6*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[6*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[6*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[6*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [26,27,28,29,30]">
        <div *ngIf="!strong[6*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[6*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[6*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[6*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-3 class="notThisMonth">1</ion-col>
        <ion-col col-3 class="notThisMonth">2</ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col></ion-col>
        <ion-col col-3 class="notThisMonth">3</ion-col>
        <ion-col col-3 class="notThisMonth">4</ion-col>
        <ion-col col-3 class="notThisMonth">5</ion-col>
        <ion-col col-3 class="notThisMonth">6</ion-col>
        <ion-col col-3 class="notThisMonth">7</ion-col>
        <ion-col col-3 class="notThisMonth">8</ion-col>
        <ion-col col-3 class="notThisMonth">9</ion-col>
        <ion-col col-1></ion-col>
      </ion-row>
    </div>

    <div *ngIf="month == 7">
      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 class="notThisMonth">26</ion-col>
        <ion-col col-3 class="notThisMonth">27</ion-col>
        <ion-col col-3 class="notThisMonth">28</ion-col>
        <ion-col col-3 class="notThisMonth">29</ion-col>
        <ion-col col-3 class="notThisMonth">30</ion-col>
        <ion-col col-3 *ngFor="let i of [1,2]">
        <div *ngIf="!strong[7*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[7*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[7*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[7*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [3,4,5,6,7,8,9]">
        <div *ngIf="!strong[7*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[7*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[7*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[7*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>

        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [10,11,12,13,14,15,16]">
        <div *ngIf="!strong[7*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[7*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[7*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[7*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>

        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [17,18,19,20,21,22,23]">
        <div *ngIf="!strong[7*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[7*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[7*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[7*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>

        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col col-2></ion-col>
        <ion-col col-3 *ngFor="let i of [24,25,26,27,28,29,30]">
        <div *ngIf="!strong[7*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[7*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[7*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[7*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>

      <ion-row class="days">
        <ion-col></ion-col>
        <ion-col col-3 *ngFor="let i of [31]">
        <div *ngIf="!strong[7*31+i] && day != i" (click)="days(i)">{{i}}</div>
        <div *ngIf="!strong[7*31+i] && day == i" class="daySelected">{{i}}</div>
        <div *ngIf="strong[7*31+i] && day != i" (click)="days(i)"><strong>{{i}}</strong></div>
        <div *ngIf="strong[7*31+i] && day == i" class="daySelected"><strong>{{i}}</strong></div>
        </ion-col>
        <ion-col col-3 class="notThisMonth">1</ion-col>
        <ion-col col-3 class="notThisMonth">2</ion-col>
        <ion-col col-3 class="notThisMonth">3</ion-col>
        <ion-col col-3 class="notThisMonth">4</ion-col>
        <ion-col col-3 class="notThisMonth">5</ion-col>
        <ion-col col-3 class="notThisMonth">6</ion-col>
        <ion-col col-1></ion-col>
      </ion-row>
    </div>

    <ion-row class="rowSpace23">&nbsp;
    </ion-row>

    <ion-row align-items-baseline>
      <ion-col col-1></ion-col>
      <ion-col col-10 text-left style="font-weight: bold; font-size: 19px; color: white;" *ngIf="month == 5">May {{day}}</ion-col>
      <ion-col col-10 text-left style="font-weight: bold; font-size: 19px; color: white;" *ngIf="month == 6">June {{day}}</ion-col>
      <ion-col col-10 text-left style="font-weight: bold; font-size: 19px; color: white;" *ngIf="month == 7">July {{day}}</ion-col>
      <ion-col col-6 text-right><button color="secondary" ion-button small block mode="wp" (click)="newCalendarEvent()">New event</button></ion-col>
       <ion-col col-6 text-right><button color="secondary" ion-button small block mode="wp" (click)="calendarList()">Event list</button></ion-col>
      <ion-col col-1></ion-col>
    </ion-row>

    <div class="calendarTransparent" mode="wp" *ngFor="let event of eventList">
      <ion-card *ngIf="day == event?.day && month == event?.month">
        <ion-card-header style="white-space: normal">
          {{event?.userName}} {{event?.startTime}}-{{event?.endTime}}
        </ion-card-header>
        <ion-card-content style="white-space: normal">
          Note: <i>"{{event?.note}}"</i>
          <br>
          <button ion-button mode="wp" class="needsApproval" block small *ngIf="!event?.blueStampedByCoordinator && this.userProfile.userIsCoordinator"
            (click)="blueStamp(event?.eventId, event?.assignedTo)">Approve</button>
            <button ion-button mode="wp" class="approved" block small *ngIf="event?.blueStampedByCoordinator && this.userProfile.userIsCoordinator"
              (click)="redStamp(event?.eventId, event?.assignedTo)">Approved &nbsp; &#10003;</button>

              <span *ngIf="!event?.blueStampedByCoordinator && !this.userProfile.userIsCoordinator"><strong>Needs approval</strong></span>
              <span *ngIf="event?.blueStampedByCoordinator && !this.userProfile.userIsCoordinator"><strong> by coordinator</strong></span>
              <ion-row>
                <ion-col col-11>
                  <button ion-button block outline mode="wp" class="calendarEdit" (click)="editCalendarEvent(event?.eventId, event?.assignedTo, event?.startTime, event?.endTime, event?.note)">Edit</button>
                </ion-col>
                <ion-col col-2>
                </ion-col>
                <ion-col col-11>
                  <button ion-button block outline mode="wp" class="calendarEdit" (click)="deleteCalendarEvent($event,event)">Delete</button>
                </ion-col>
              </ion-row>
        </ion-card-content>
      </ion-card>
    </div>

    <div class="calendarTransparent" mode="wp" *ngFor="let event of eventListTwo">
      <ion-card *ngIf="day == event?.day && month == event?.month">
        <ion-card-header style="white-space: normal">
          {{event?.userName}} {{event?.startTime}}-{{event?.endTime}}
        </ion-card-header>
        <ion-card-content style="white-space: normal">
          Note: <i>"{{event?.note}}"</i>
          <br>
          <button ion-button mode="wp" class="needsApproval" block small *ngIf="!event?.blueStampedByCoordinator && this.userProfile.userIsCoordinator"
            (click)="blueStamp(event?.eventId, event?.assignedTo)">Approve</button>
            <button ion-button mode="wp" class="approved" block small *ngIf="event?.blueStampedByCoordinator && this.userProfile.userIsCoordinator"
              (click)="redStamp(event?.eventId, event?.assignedTo)">Approved &nbsp; &#10003;</button>

              <span *ngIf="!event?.blueStampedByCoordinator && !this.userProfile.userIsCoordinator"><strong>Needs approval</strong></span>
              <span *ngIf="event?.blueStampedByCoordinator && !this.userProfile.userIsCoordinator"><strong>Approved by coordinator</strong></span>
              <ion-row>
                <ion-col col-11>
                  <button ion-button block outline mode="wp" class="calendarEdit" (click)="editCalendarEvent(event?.eventId, event?.assignedTo, event?.startTime, event?.endTime, event?.note)">Edit</button>
                </ion-col>
                <ion-col col-2>
                </ion-col>
                <ion-col col-11>
                  <button ion-button block outline mode="wp" class="calendarEdit" (click)="deleteCalendarEvent($event,event)">Delete</button>
                </ion-col>
              </ion-row>
        </ion-card-content>
      </ion-card>
    </div>

  </ion-grid>
</ion-content>